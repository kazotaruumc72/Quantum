# Quantum - Transaction History Menu
# Displays player's transaction history with pagination and filters

menu_settings:
  name: "<gradient:#FFD700:#FFA500>ðŸ“œ Historique des transactions</gradient>"
  rows: 6
  update_interval: 20

items:
  # === Background ===
  background:
    material: "BLACK_STAINED_GLASS_PANE"
    display_name: " "
    slots: [0,1,2,3,4,5,6,7,8,45,46,47,48,50,51,52,53]

  # === Filter: All Transactions ===
  filter_all:
    material: "PAPER"
    display_name: "<gradient:#00FF00:#00AA00>ðŸ“‹ Toutes les transactions</gradient>"
    lore:
      - ""
      - "<gray>Affiche toutes vos transactions</gray>"
      - ""
      - "<gray>Total: <gold>%quantum_history_total%</gold></gray>"
      - ""
      - "%quantum_history_filter_all_status%"
    slots: [36]
    click_commands:
      left:
        - "[console] quantum history all {player}"

  # === Filter: Buy Orders ===
  filter_buy:
    material: "EMERALD"
    display_name: "<gradient:#00FF00:#00AA00>ðŸ’° Achats</gradient>"
    lore:
      - ""
      - "<gray>Affiche uniquement vos achats</gray>"
      - ""
      - "<gray>Total achats: <gold>%quantum_history_buy_count%</gold></gray>"
      - "<gray>Montant total: <gold>%quantum_history_buy_total%â‚¬</gold></gray>"
      - ""
      - "%quantum_history_filter_buy_status%"
    slots: [37]
    click_commands:
      left:
        - "[console] quantum history buy {player}"

  # === Filter: Sell Orders ===
  filter_sell:
    material: "GOLD_INGOT"
    display_name: "<gradient:#FFD700:#FFA500>ðŸ’Ž Ventes</gradient>"
    lore:
      - ""
      - "<gray>Affiche uniquement vos ventes</gray>"
      - ""
      - "<gray>Total ventes: <gold>%quantum_history_sell_count%</gold></gray>"
      - "<gray>Montant total: <gold>%quantum_history_sell_total%â‚¬</gold></gray>"
      - ""
      - "%quantum_history_filter_sell_status%"
    slots: [38]
    click_commands:
      left:
        - "[console] quantum history sell {player}"

  # === Transaction Items (Dynamic) ===
  # Slots 10-16, 19-25, 28-34 (21 slots for transactions)
  transaction_template:
    material: "%quantum_history_{slot}_material%"
    display_name: "<gradient:#FFD700:#FFA500>%quantum_history_{slot}_item_name%</gradient>"
    lore:
      - ""
      - "<gray>Type: %quantum_history_{slot}_type_display%</gray>"
      - "<gray>QuantitÃ©: <gold>%quantum_history_{slot}_quantity%x</gold></gray>"
      - "<gray>Prix unitaire: <gold>%quantum_history_{slot}_unit_price%â‚¬</gold></gray>"
      - "<gray>Montant total: <gold>%quantum_history_{slot}_total_price%â‚¬</gold></gray>"
      - ""
      - "<gray>%quantum_history_{slot}_partner_label%: <white>%quantum_history_{slot}_partner%</white></gray>"
      - "<gray>Date: <white>%quantum_history_{slot}_date%</white></gray>"
      - ""
      - "<dark_gray>Transaction #%quantum_history_{slot}_id%</dark_gray>"
    slots: [10,11,12,13,14,15,16,19,20,21,22,23,24,25,28,29,30,31,32,33,34]
    click_commands:
      left:
        - "[message] <gray>Cliquez droit pour plus d'infos"
      right:
        - "[console] quantum transaction info %quantum_history_{slot}_id% {player}"

  # === Empty Slot (No Transaction) ===
  empty_transaction:
    material: "LIGHT_GRAY_STAINED_GLASS_PANE"
    display_name: "<gray>Aucune transaction</gray>"
    lore: []
    slots: []  # Dynamically filled

  # === Previous Page ===
  previous_page:
    material: "ARROW"
    display_name: "<gradient:#00FF00:#00AA00>â—€ Page prÃ©cÃ©dente</gradient>"
    lore:
      - ""
      - "<gray>Page actuelle: <gold>%quantum_history_current_page%</gold></gray>"
      - "<gray>Total pages: <gold>%quantum_history_total_pages%</gold></gray>"
      - ""
      - "%quantum_history_previous_status%"
    slots: [48]
    click_commands:
      left:
        - "[console] quantum history page %quantum_history_previous_page% {player}"
    view_requirement: "%quantum_history_has_previous% == true"

  # === Current Page Info ===
  page_info:
    material: "BOOK"
    display_name: "<gradient:#FFD700:#FFA500>ðŸ“– Page %quantum_history_current_page%/%quantum_history_total_pages%</gradient>"
    lore:
      - ""
      - "<gray>Transactions affichÃ©es:</gray>"
      - "<gold>%quantum_history_showing_from% - %quantum_history_showing_to%</gold>"
      - ""
      - "<gray>Total transactions: <gold>%quantum_history_total%</gold></gray>"
    slots: [49]

  # === Next Page ===
  next_page:
    material: "ARROW"
    display_name: "<gradient:#00FF00:#00AA00>Page suivante â–¶</gradient>"
    lore:
      - ""
      - "<gray>Page actuelle: <gold>%quantum_history_current_page%</gold></gray>"
      - "<gray>Total pages: <gold>%quantum_history_total_pages%</gold></gray>"
      - ""
      - "%quantum_history_next_status%"
    slots: [50]
    click_commands:
      left:
        - "[console] quantum history page %quantum_history_next_page% {player}"
    view_requirement: "%quantum_history_has_next% == true"

  # === Close Button ===
  close:
    material: "BARRIER"
    display_name: "<gradient:#FF0000:#AA0000>âœ– Fermer</gradient>"
    lore:
      - ""
      - "<gray>Cliquez pour fermer le menu</gray>"
    slots: [44]
    click_commands:
      left:
        - "[close]"
